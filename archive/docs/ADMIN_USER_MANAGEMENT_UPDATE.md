# Обновление управления пользователями в админке

## Обзор

Добавлена возможность создания и управления пользователями с ролями:
- **Сотрудник службы безопасности** (`security`)
- **Сотрудник отдела кадров** (`hr`)

## Изменения в компонентах

### 1. CreateUserModal.tsx
- **Обновлен тип роли**: Добавлены `'security'` и `'hr'` в TypeScript типы
- **Добавлены опции в селект ролей**:
  - `security` → "Сотрудник службы безопасности"
  - `hr` → "Сотрудник отдела кадров"

### 2. EditUserModal.tsx
- **Обновлен тип роли**: Добавлены `'security'` и `'hr'` в TypeScript типы
- **Добавлены опции в селект ролей** для редактирования существующих пользователей

### 3. users/page.tsx
- **Обновлена функция `getRoleName()`**: Добавлены названия для новых ролей
- **Обновлены стили ролей**: Добавлены цветовые схемы для новых ролей:
  - `security` → оранжевый цвет (`bg-orange-100`)
  - `hr` → индиго цвет (`bg-indigo-100`)

## Функциональность

### Создание пользователей
1. Перейти в раздел "Управление пользователями" в админке
2. Нажать кнопку "Добавить пользователя"
3. В форме создания выбрать роль:
   - "Сотрудник службы безопасности" для роли `security`
   - "Сотрудник отдела кадров" для роли `hr`
4. Заполнить остальные поля и создать пользователя

### Редактирование пользователей
1. В списке пользователей нажать кнопку редактирования
2. В модальном окне редактирования можно изменить роль на новую
3. Сохранить изменения

### Отображение ролей
- Новые роли отображаются с соответствующими цветовыми индикаторами
- Названия ролей локализованы на русский язык
- Роли корректно отображаются в таблице пользователей

## Технические детали

### TypeScript типы
```typescript
type UserRole = 'admin' | 'manager' | 'employee' | 'customer' | 'contractor' | 'service_engineer' | 'ved_passport' | 'security' | 'hr'
```

### Цветовые схемы ролей
- `admin` → красный
- `manager` → синий
- `employee` → серый
- `ved_passport` → фиолетовый
- `contractor` → зеленый
- `customer` → желтый
- `service_engineer` → серый
- `security` → оранжевый (новый)
- `hr` → индиго (новый)

### Интеграция с бэкендом
- Новые роли уже добавлены в `backend/api/v1/shared/constants.py`
- Валидация ролей обновлена в соответствующих файлах
- API поддерживает создание пользователей с новыми ролями

## Тестирование

### Сценарии тестирования
1. **Создание пользователя службы безопасности**:
   - Выбрать роль "Сотрудник службы безопасности"
   - Заполнить обязательные поля
   - Проверить успешное создание

2. **Создание пользователя отдела кадров**:
   - Выбрать роль "Сотрудник отдела кадров"
   - Заполнить обязательные поля
   - Проверить успешное создание

3. **Редактирование роли**:
   - Изменить роль существующего пользователя на новую
   - Проверить корректное отображение в списке

4. **Отображение в списке**:
   - Проверить корректное отображение новых ролей
   - Проверить цветовые индикаторы

## Совместимость

- ✅ Обратная совместимость с существующими ролями
- ✅ Поддержка темной темы
- ✅ Адаптивный дизайн
- ✅ Валидация на фронтенде и бэкенде

## Будущие улучшения

1. **Расширенная фильтрация**: Добавить фильтры по ролям в списке пользователей
2. **Массовые операции**: Возможность изменения ролей для нескольких пользователей
3. **Ролевые права**: Настройка дополнительных прав доступа для новых ролей
4. **Уведомления**: Уведомления о создании пользователей с новыми ролями
