#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
"""

import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø—É—Ç—å
project_root = Path(__file__).parent.parent
sys.path.insert(0, str(project_root))

from api.v1.endpoints.article_matching import parse_item_string

def test_parsing():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤"""
    
    test_cases = [
        "–û–•–ö–£-000184 –£–ë–† - –ö—É–Ω–¥—É–º–∏ –°–º–∞–∑–∫–∞ –∞–Ω—Ç–∏–≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è GRIZZLY (–≤–µ–¥—Ä–æ 17 –∫–≥.) 10 —à—Ç",
        "BL-123456 –°–º–∞–∑–∫–∞ –º–æ—Ç–æ—Ä–Ω–∞—è 5–ª",
        "123456 –°–º–∞–∑–∫–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è",
        "–û–•–ö–£000184 –°–º–∞–∑–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è 2 –∫–≥",
        "–°–º–∞–∑–∫–∞ –∞–Ω—Ç–∏–≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è 15 —à—Ç",
        "–û–•–ö–£-184 –°–º–∞–∑–∫–∞ (—É–ø–∞–∫–æ–≤–∫–∞ 1 –∫–≥) 20 —à—Ç",
        "BL123456 –°–º–∞–∑–∫–∞ –º–æ—Ç–æ—Ä–Ω–∞—è 10–ª",
        "–°–º–∞–∑–∫–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –±–µ–∑ –∞—Ä—Ç–∏–∫—É–ª–∞ 5 —à—Ç",
    ]
    
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤\n")
    
    for i, test_string in enumerate(test_cases, 1):
        print(f"–¢–µ—Å—Ç {i}: {test_string}")
        result = parse_item_string(test_string)
        print(f"  –ê—Ä—Ç–∏–∫—É–ª: '{result['article']}'")
        print(f"  –û–ø–∏—Å–∞–Ω–∏–µ: '{result['description']}'")
        print(f"  –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result['quantity']} {result['unit']}")
        print()

if __name__ == "__main__":
    test_parsing()
