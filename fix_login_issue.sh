#!/bin/bash
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–Ω–æ–º –∞–¥–º–∏–Ω–∞

echo "üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –õ–û–ì–ò–ù–û–ú –ê–î–ú–ò–ù–ê"
echo "========================================"

# –®–∞–≥ 1: –û—Ç–ª–∞–¥–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
echo -e "\nüìã –®–ê–ì 1: –û—Ç–ª–∞–¥–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è"
docker exec -it agb_backend python debug_password.py

# –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
echo -e "\nüìã –®–ê–ì 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è"
docker exec -it agb_backend python quick_fix_password.py

# –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
echo -e "\nüìã –®–ê–ì 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
docker exec -it agb_backend python test_login_after_fix.py

# –®–∞–≥ 4: –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ curl
echo -e "\nüìã –®–ê–ì 4: –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ curl"
echo "–¢–µ—Å—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ nginx:"
curl -s -X POST http://localhost/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}' | jq .

echo -e "\n–¢–µ—Å—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ backend –Ω–∞–ø—Ä—è–º—É—é:"
curl -s -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}' | jq .

echo -e "\n‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
echo -e "\nüîë –î–ê–ù–ù–´–ï –î–õ–Ø –í–•–û–î–ê:"
echo "   –õ–æ–≥–∏–Ω: admin"
echo "   –ü–∞—Ä–æ–ª—å: admin123"
echo "   URL: http://–í–ê–®_–°–ï–†–í–ï–†/login"
echo -e "\nüéâ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É!"
